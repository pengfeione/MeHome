<!DOCTYPE html><html lang="en" class="app" xmlns:th="http://www.thymeleaf.org"><head>    <meta charset="utf-8"/>    <title>ME+企业用户管理</title>    <meta name="description"          content="app, web app, responsive, admin dashboard, admin, flat, flat ui, ui kit, off screen nav"/>    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>    <link rel="stylesheet" href="/css/bootstrap.css" type="text/css"/>    <link rel="stylesheet" href="/css/animate.css" type="text/css"/>    <link rel="stylesheet" href="/css/font-awesome.min.css" type="text/css"/>    <link rel="stylesheet" href="/css/simple-line-icons.css" type="text/css"/>    <link rel="stylesheet" href="/css/font.css" type="text/css"/>    <link rel="stylesheet" href="/css/app.css" type="text/css"/>    <link rel="stylesheet" type="text/css" href="/css/zeroModal.css"/>    <link rel="stylesheet" type="text/css" href="/css/areaStyle.css"/>    <!--<link href="/css/foundation.min.css" rel="stylesheet" type="text/css">-->    <link href="/css/foundation-datepicker.css" rel="stylesheet" type="text/css">    <link href="http://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.4/summernote.css" rel="stylesheet">    <!--[if lt IE 9]>    <script src="js/ie/html5shiv.js"></script>    <script src="js/ie/respond.min.js"></script>    <script src="js/ie/excanvas.js"></script>    <![endif]--></head><body class=""><section class="vbox">    <header class="bg-white-only header header-md navbar navbar-fixed-top-xs">        <div class="navbar-header aside bg-info dk" style="background:#21aa93">            <a class="btn btn-link visible-xs" data-toggle="class:nav-off-screen,open" data-target="#nav,html">                <i class="icon-list"></i>            </a>            <a href="javascript:void(0)" class="navbar-brand text-lt">                <img src="http://m.mjiahome.com/img/cmslogo.jpg"                     style="width: 40px;height: 40px;vertical-align:middle;">                <small>公寓新媒体平台</small>            </a>            <a class="btn btn-link visible-xs" data-toggle="dropdown" data-target=".user">                <i class="icon-settings"></i>            </a>        </div>        <ul class="nav navbar-nav hidden-xs">            <li>                <a href="#nav,.navbar-header" data-toggle="class:nav-xs,nav-xs" class="text-muted">                    <i class="fa fa-indent text"></i>                    <i class="fa fa-dedent text-active"></i>                </a>            </li>        </ul>        <form class="navbar-form navbar-left input-s-lg m-t m-l-n-xs hidden-xs" role="search">            <div class="form-group" style="display: none">                <div class="input-group">            <span class="input-group-btn">              <button type="submit" class="btn btn-sm bg-white btn-icon rounded"><i class="fa fa-search"></i></button>            </span>                    <input type="text" class="form-control input-sm no-border rounded"                           placeholder="ME+搜索"/>                </div>            </div>        </form>        <div class="navbar-right ">            <ul class="nav navbar-nav m-n hidden-xs nav-user user">                <li class="hidden-xs" style="display: none">                    <a href="#" class="dropdown-toggle lt" data-toggle="dropdown">                        <i class="icon-bell"></i>                        <span class="badge badge-sm up bg-danger count">2</span>                    </a>                    <section class="dropdown-menu aside-xl animated fadeInUp">                        <section class="panel bg-white">                            <div class="panel-heading b-light bg-light">                                <strong>You have <span class="count">2</span> notifications</strong>                            </div>                            <div class="list-group list-group-alt">                                <a href="#" class="media list-group-item">                                    <span class="pull-left thumb-sm">                                      <img src="/images/a0.png" alt="..." class="img-circle"/>                                    </span>                                    <span class="media-body block m-b-none">                                      Use awesome animate.css<br/>                                      <small class="text-muted">10 minutes ago</small>                                    </span>                                </a>                                <a href="#" class="media list-group-item">                                <span class="media-body block m-b-none">                                  1.0 initial released<br/>                                  <small class="text-muted">1 hour ago</small>                                </span>                                </a>                            </div>                            <div class="panel-footer text-sm">                                <a href="#" class="pull-right"><i class="fa fa-cog"></i></a>                                <a href="#notes" data-toggle="class:show animated fadeInRight">See all the                                    notifications</a>                            </div>                        </section>                    </section>                </li>                <li class="dropdown">                    <a href="#" class="dropdown-toggle bg clear" data-toggle="dropdown">                      <span class="thumb-sm avatar pull-right m-t-n-sm m-b-n-sm m-l-sm">                        <img src="/images/a0.png" th:attr="src=${session.user.getAvatar()}" alt="..."/>                      </span>                        <span th:text="${session.user.getNickName()}"></span><b class="caret"></b>                    </a>                    <ul class="dropdown-menu animated fadeInRight">                        <li>                            <a href="/html/logout.html">Logout</a>                        </li>                    </ul>                </li>            </ul>        </div>    </header>    <section>        <section class="hbox stretch">            <aside class="bg-black dk aside hidden-print" id="nav">                <section class="vbox">                    <section class="w-f-md scrollable">                        <div class="slim-scroll" data-height="auto" data-disable-fade-out="true" data-distance="0"                             data-size="10px" data-railOpacity="0.2">                            <nav class="nav-primary hidden-xs">                                <ul class="nav" data-ride="collapse">                                    <li class="active">                                        <a href="#" class="auto"><span class="pull-right text-muted"><i                                                class="fa fa-angle-left text"></i><i                                                class="fa fa-angle-down text-active"></i></span><i                                                class="icon-grid icon"></i><span>平台后台1.0</span> </a>                                        <ul class="nav dk text-sm">                                            <li><a href="/html/platform/supplierList.html" class="auto"><i                                                    class="fa fa-angle-right text-xs"></i><span>供应商管理</span></a></li>                                            <li><a href="/html/platform/order.html" class="auto"><i                                                    class="fa fa-angle-right text-xs"></i><span>预约－租借管理</span></a></li>                                            <li><a href="/html/platform/product.html" class="auto"><i                                                    class="fa fa-angle-right text-xs"></i><span>产品资源管理</span></a></li>                                            <li><a href="/html/platform/users.html" class="auto"><i                                                    class="fa fa-angle-right text-xs"></i><span>用户资源管理</span></a></li>                                            <li><a href="/html/platform/companylist.html" class="auto"><i                                                    class="fa fa-angle-right text-xs"></i><span>合作企业</span></a></li>                                            <li><a href="/html/platform/activity.html" class="auto"><i                                                    class="fa fa-angle-right text-xs"></i><span>资讯管理</span></a></li>                                        </ul>                                    </li>                                </ul>                            </nav>                        </div>                    </section>                </section>            </aside>            <section id="content">                <section class="vbox">                    <section class="scrollable padder">                        <div class="m-b-md">                            <h3 class="m-b-none"></h3>                        </div>                        <section class="panel panel-default">                            <header class="panel-heading">                                <h4 class="font-bold">产品信息</h4>                            </header>                            <div class="row">                                <div class="col-sm-12">                                    <div class="panel panel-default">                                        <div class="panel-heading">                                            <ul class="nav nav-tabs font-bold">                                                <li class="active"><a id="tab_head_1" data-toggle="tab">基本信息</a></li>                                                <li class=""><a id="tab_head_2" data-toggle="tab">房源信息</a></li>                                                <li class=""><a id="tab_head_3" data-toggle="tab">个人福利</a></li>                                                <li class=""><a id="tab_head_4" data-toggle="tab">企业福利</a></li>                                                <li class=""><a id="tab_head_6" data-toggle="tab">用户评论</a></li>                                            </ul>                                        </div>                                        <br/>                                        <div class="panel-body" id="step1">                                            <div class="form-horizontal" id="step1_form">                                                <input type="hidden" name="productId"                                                       id="productId">                                                <div class="form-group">                                                    <label class="col-sm-2 control-label">产品名称</label>                                                    <div class="m-r col-sm-3">                                                        <input class="form-control" name="productName"                                                               id="productName"/>                                                    </div>                                                </div>                                                <div class="line line-dashed b-b line-lg pull-in"></div>                                                <div class="form-group">                                                    <label class="col-sm-2 control-label">供应商</label>                                                    <input type="hidden" id="supplierId">                                                    <div class="m-r col-sm-3">                                                        <button class="btn btn-default dropdown-toggle"                                                                data-toggle="dropdown" id="supplierName">选择供应商&nbsp;&nbsp;<span                                                                class="caret"></span>                                                        </button>                                                        <ul class="dropdown-menu" id="ul_supplier">                                                        </ul>                                                    </div>                                                </div>                                                <div class="line line-dashed b-b line-lg pull-in"></div>                                                <div class="form-group">                                                    <label class="col-sm-2 control-label">产品描述</label>                                                    <div class="m-r col-sm-3">                                                        <textarea rows="4" cols="20" class="form-control"                                                                  id="productDetail" name="productDetail"></textarea>                                                    </div>                                                </div>                                                <div class="line line-dashed b-b line-lg pull-in"></div>                                                <div class="form-group">                                                    <label class="col-sm-2 control-label">产品图片</label>                                                </div>                                                <div id="productDetailPicDiv">                                                </div>                                                <div class="form-group">                                                    <label class="col-sm-2 control-label"></label>                                                    <div class="m-r col-sm-2">                                                        <a class="btn btn-info" href="javascript:void(0)" id="newPic"><i                                                                class="fa fa-plus"></i>&nbsp;&nbsp;&nbsp;新增图片</a>                                                    </div>                                                </div>                                                <div class="line line-dashed b-b line-lg pull-in"></div>                                                <div class="form-group">                                                    <label class="col-sm-2 control-label" for="address">产品所在区域</label>                                                    <div class="m-r col-sm-3">                                                        <input class="area_input" id="areaName"/>                                                        <p class="form-control-static" id="areaId"                                                           style="display: none"></p>                                                    </div>                                                </div>                                                <div class="line line-dashed b-b line-lg pull-in"></div>                                                <div class="form-group">                                                    <label class="col-sm-2 control-label" for="address">产品详细地址</label>                                                    <div class="m-r col-sm-3">                                                        <textarea rows="4" cols="20" class="form-control" id="address"                                                                  name="address"></textarea>                                                    </div>                                                </div>                                                <div class="line line-dashed b-b line-lg pull-in"></div>                                                <div class="form-group">                                                    <label class="col-sm-2 control-label">产品位置</label>                                                    <div class="m-r col-sm-3">                                                        <input name="position" class="form-control"                                                               id="position"/>                                                    </div>                                                </div>                                                <div class="line line-dashed b-b line-lg pull-in"></div>                                                <div class="form-group">                                                    <label class="col-sm-2 control-label">产品排序值</label>                                                    <div class="m-r col-sm-1">                                                        <input class="form-control" id="productSort"                                                               name="productSort" value="0"/>                                                    </div>                                                </div>                                                <div class="line line-dashed b-b line-lg pull-in"></div>                                                <div class="form-group">                                                    <label class="col-sm-2 control-label">交通</label>                                                    <div class="m-r col-sm-6">                                                        <div id="transport">                                                        </div>                                                    </div>                                                </div>                                                <div class="line line-dashed b-b line-lg pull-in"></div>                                                <div class="form-group">                                                    <label class="col-sm-2 control-label">美食</label>                                                    <div class="m-r col-sm-6">                                                        <input class="form-control" id="delicacy" placeholder="附近美食"                                                               name="delicacy" value=""/>                                                    </div>                                                </div>                                                <div class="line line-dashed b-b line-lg pull-in"></div>                                                <div class="form-group">                                                    <label class="col-sm-2 control-label">娱乐</label>                                                    <div class="m-r col-sm-6">                                                        <input class="form-control" id="entertainment"                                                               placeholder="附近娱乐设施"                                                               name="entertainment" value=""/>                                                    </div>                                                </div>                                                <div class="line line-dashed b-b line-lg pull-in"></div>                                                <div class="form-group">                                                    <label class="col-sm-2 control-label">购物</label>                                                    <div class="m-r col-sm-6">                                                        <input class="form-control" id="shopping" placeholder="附近购物"                                                               name="shopping" value=""/>                                                    </div>                                                </div>                                                <div class="line line-dashed b-b line-lg pull-in"></div>                                                <div class="form-group">                                                    <label class="col-sm-2 control-label">产品激活状态</label>                                                    <div class="m-r col-sm-1">                                                        <label class="switch" id="product_active_label">                                                            <input type="checkbox" id="productActive"/> <span></span>                                                        </label>                                                    </div>                                                </div>                                                <div class="line line-dashed b-b line-lg pull-in"></div>                                                <div class="form-group">                                                    <label class="col-sm-2 control-label">产品守则</label>                                                    <div class="btn-group m-r col-sm-3">                                                        <input class="form-control" id="netRulesUrl" name="netRulesUrl"                                                               value=""/>                                                    </div>                                                    <div class="btn-group m-r">                                                        <button class="btn btn-default" id="btn_netRulesUrl">                                                            <span>守则预览</span></button>                                                    </div>                                                    <div class="btn-group m-r">                                                        <button class="btn btn-default" id="btn_net_rule">                                                            <span>重新上传</span></button>                                                    </div>                                                </div>                                                <div class="line line-dashed b-b line-lg pull-in"></div>                                                <div class="form-group">                                                    <div class="col-sm-4 col-sm-offset-2">                                                        <button type="reset" class="btn btn-default">重置</button>                                                        <button type="button" class="btn btn-primary" id="btn_submit">                                                            保存                                                        </button>                                                    </div>                                                </div>                                            </div>                                        </div>                                        <div class="panel-body" id="step2">                                            <div id="div_house_edit">                                                <div class="form-group">                                                    <div class="form-group">                                                        <a class="btn btn-info col-sm-1 control-label"                                                           href="javascript:void(-1)" onclick="addHouse()"><i                                                                class="fa fa-plus"></i>&nbsp;&nbsp;&nbsp;添加房源</a>                                                    </div>                                                    <br/>                                                    <br/>                                                    <div class="line line-dashed b-b line-lg pull-in"></div>                                                </div>                                                <div class="table-responsive">                                                    <table class="table table-striped b-t b-light">                                                        <thead>                                                        <tr style="height: 40px;">                                                            <th class="text-center" style="vertical-align: middle">房源优先级                                                            </th>                                                            <th class="text-center" style="vertical-align: middle">                                                                房源名称                                                            </th>                                                            <th class="text-center" style="vertical-align: middle">                                                                房源图片                                                            </th>                                                            <th class="text-center" style="vertical-align: middle">房型                                                            </th>                                                            <th class="text-center" style="vertical-align: middle">面积                                                            </th>                                                            <th class="text-center" style="vertical-align: middle">租金                                                            </th>                                                            <th class="text-center" style="vertical-align: middle">                                                                支付模式                                                            </th>                                                            <th class="text-center" style="vertical-align: middle">                                                                租赁周期                                                            </th>                                                            <th class="text-center" style="vertical-align: middle">                                                                房源状态                                                            </th>                                                            <th class="text-center" style="vertical-align: middle">操作                                                            </th>                                                        </tr>                                                        </thead>                                                        <tbody id="house_table_body">                                                        </tbody>                                                    </table>                                                </div>                                                <footer class="panel-footer">                                                    <div class="row">                                                        <div class="col-sm-4 hidden-xs">                                                        </div>                                                        <div class="col-sm-4 text-center">                                                        </div>                                                        <div class="col-sm-4 text-right text-center-xs">                                                            <ul id="page_house"                                                                class="pagination pagination-sm m-t-none m-b-none">                                                            </ul>                                                        </div>                                                    </div>                                                </footer>                                            </div>                                            <div id="div_house_info" style="display:none;">                                                <div class="form-group">                                                    <div class="form-group">                                                        <a class="btn btn-info col-sm-1 control-label"                                                           href="javascript:void(-1)" onclick="returnHouseList()"><i                                                                class="fa fa-chevron-left"></i>&nbsp;&nbsp;&nbsp;返回房源列表</a>                                                    </div>                                                    <br/>                                                    <br/>                                                    <div class="line line-dashed b-b line-lg pull-in"></div>                                                </div>                                                <div class="form-horizontal">                                                    <input type="hidden" name="houseId"                                                           id="houseId" value="-1">                                                    <div class="form-group">                                                        <label class="col-sm-2 control-label">房源名称</label>                                                        <div class="m-r col-sm-3">                                                            <input class="form-control" name="subject"                                                                   id="subject"/>                                                        </div>                                                    </div>                                                    <div class="line line-dashed b-b line-lg pull-in"></div>                                                    <div class="form-group">                                                        <label class="col-sm-2 control-label">房源简介</label>                                                        <div class="m-r col-sm-6">                                                        <textarea rows="4" cols="20" class="form-control"                                                                  id="summary" name="summary"></textarea>                                                        </div>                                                    </div>                                                    <div class="line line-dashed b-b line-lg pull-in"></div>                                                    <div class="form-group">                                                        <label class="col-sm-2 control-label">房源细节描述</label>                                                        <div class="m-r col-sm-6">                                                        <textarea rows="4" cols="20" class="form-control"                                                                  id="detail" name="detail"></textarea>                                                        </div>                                                    </div>                                                    <div class="line line-dashed b-b line-lg pull-in"></div>                                                    <div class="form-group">                                                        <label class="col-sm-2 control-label">房源图片</label>                                                    </div>                                                    <div id="houseDetailPicDiv"></div>                                                    <div class="form-group">                                                        <label class="col-sm-2 control-label"></label>                                                        <div class="m-r col-sm-2">                                                            <a class="btn btn-info" href="javascript:void(0)"                                                               id="newHousePic"><i                                                                    class="fa fa-plus"></i>&nbsp;&nbsp;&nbsp;新增图片</a>                                                        </div>                                                    </div>                                                    <div class="line line-dashed b-b line-lg pull-in"></div>                                                    <div class="form-group">                                                        <label class="col-sm-2 control-label">房间配套设施</label>                                                        <div class="col-sm-10" id="house_basic">                                                        </div>                                                    </div>                                                    <div class="line line-dashed b-b line-lg pull-in"></div>                                                    <div class="form-group">                                                        <label class="col-sm-2 control-label">房源户型</label>                                                        <div class="col-sm-6">                                                            <div class="input-group m-b">                                                                <input class="form-control"                                                                       id="house_room"                                                                       value="1"><span                                                                    class="input-group-addon">室</span>                                                                <input class="form-control"                                                                       id="house_hall"                                                                       value="0"><span                                                                    class="input-group-addon">厅</span>                                                                <input class="form-control"                                                                       id="house_toilet"                                                                       value="0"><span                                                                    class="input-group-addon">卫</span>                                                            </div>                                                        </div>                                                    </div>                                                    <div class="line line-dashed b-b line-lg pull-in"></div>                                                    <div class="form-group">                                                        <label class="col-sm-2 control-label">面积</label>                                                        <div class="m-r col-sm-6">                                                            <div class="input-group m-b col-sm-5">                                                                <input class="form-control"                                                                       id="roomArea"                                                                       value="1"><span                                                                    class="input-group-addon">㎡</span>                                                            </div>                                                        </div>                                                    </div>                                                    <div class="line line-dashed b-b line-lg pull-in"></div>                                                    <div class="form-group">                                                        <label class="col-sm-2 control-label">租金</label>                                                        <div class="m-r col-sm-6">                                                            <div class="input-group m-b col-sm-5">                                                                <input class="form-control"                                                                       id="roomRent"                                                                       value="1"><span                                                                    class="input-group-addon">元</span>                                                            </div>                                                        </div>                                                    </div>                                                    <div class="line line-dashed b-b line-lg pull-in"></div>                                                    <div class="form-group form-inline">                                                        <label class="col-sm-2 control-label">支付模式</label>                                                        <div class="col-sm-10">                                                            <div class="input-group m-b col-sm-3">                                                                <span class="input-group-addon">压</span><input                                                                    class="form-control"                                                                    id="house_pay_ya"                                                                    value="3">                                                                <span class="input-group-addon">月</span>                                                            </div>                                                            <div class="input-group m-b col-sm-3">                                                                <span class="input-group-addon">付</span><input                                                                    class="form-control" id="house_pay_fu"                                                                    value="4"><span                                                                    class="input-group-addon">月</span>                                                            </div>                                                        </div>                                                    </div>                                                    <div class="line line-dashed b-b line-lg pull-in"></div>                                                    <div class="form-group form-inline">                                                        <label class="col-sm-2 control-label">房源状态</label>                                                        <div class="col-sm-10">                                                            <div class="btn-group" data-toggle="buttons">                                                                <label class="btn btn-s-md btn-default"                                                                       id="house_status_id_0">                                                                    <input type="radio" name="house_status_name"><i                                                                        class="fa fa-check text-active"                                                                ></i>已下线                                                                </label>                                                                <label class="btn btn-s-md btn-default"                                                                       id="house_status_id_1">                                                                    <input type="radio" name="house_status_name"><i                                                                        class="fa fa-check text-active"                                                                ></i>已上线                                                                </label>                                                            </div>                                                        </div>                                                    </div>                                                    <div class="line line-dashed b-b line-lg pull-in"></div>                                                    <div class="form-group">                                                        <label class="col-sm-2 control-label">显示顺序权重</label>                                                        <div class="m-r col-sm-3">                                                            <input class="form-control" name="sort"                                                                   id="sort"/>                                                        </div>                                                    </div>                                                    <div class="line line-dashed b-b line-lg pull-in"></div>                                                    <div class="form-group">                                                        <div class="col-sm-4 col-sm-offset-2">                                                            <button type="reset" class="btn btn-default">重置</button>                                                            <button type="button" class="btn btn-primary"                                                                    id="house_btn_submit" onclick="saveHouse()">                                                                保存                                                            </button>                                                        </div>                                                    </div>                                                </div>                                            </div>                                        </div>                                        <div class="panel-body" id="step3">                                            <div id="company_welfare">                                                <div class="row" id="welfaresdpZNz">                                                    <div class="col-sm-5 form-horizontal">                                                        <label class="col-sm-2 control-label">福利名称</label>                                                        <div class="form-group">                                                            <div class="col-sm-6">                                                                <input class="form-control"                                                                       name="name"                                                                       id="welfareName"/>                                                            </div>                                                        </div>                                                        <label class="col-sm-2 control-label">福利公告</label>                                                        <div class="form-group">                                                            <div class="col-sm-6">                                                                <textarea class="form-control parsley-validated"                                                                          rows="6"                                                                          data-minwords="6" name="notice"                                                                          id="welfareNotice"></textarea>                                                            </div>                                                        </div>                                                    </div>                                                    <div class="col-sm-6 form-horizontal">                                                        <label class="col-sm-2 control-label"></label><br>                                                        <div class="form-group"><label class="col-sm-2 control-label">房租减免</label>                                                            <div class="col-sm-10">                                                                <div class="input-group m-b col-sm-2">                                                                    <input class="form-control" name="remitPercent"                                                                           id="remitPercent"                                                                           value="0"/><span                                                                        class="input-group-addon">%</span>                                                                </div>                                                            </div>                                                        </div>                                                        <div class="form-group form-inline">                                                            <label class="col-sm-2 control-label">支付模式</label>                                                            <div class="col-sm-10">                                                                <div class="input-group m-b col-sm-3">                                                                    <span class="input-group-addon">压</span>                                                                    <input type="text" class="form-control"                                                                           name="mortagageNum" value="0"                                                                           id="mortagageNum"/>                                                                    <span class="input-group-addon">月</span></div>                                                                <div class="input-group m-b col-sm-3">                                                                    <span class="input-group-addon">付</span>                                                                    <input type="text" class="form-control"                                                                           name="payMentNum" value="0" id="payMentNum"/>                                                                    <span class="input-group-addon">月</span></div>                                                            </div>                                                        </div>                                                        <div class="form-group">                                                            <div class="col-sm-4 col-sm-offset-2">                                                                <button class="btn btn-danger btn-s-md btn-rounded"                                                                        onclick="deleteCompanyWelfare()">删除                                                                </button>                                                                <button class="btn btn-primary btn-s-md btn-rounded"                                                                        onclick="saveCompanyWelfare()">保存                                                                </button>                                                            </div>                                                        </div>                                                    </div>                                                </div>                                                <div class="line line-dashed b-b line-lg pull-in"></div>                                            </div>                                        </div>                                        <div class="panel-body" id="step4">                                            <div class="form-group">                                                <div class="form-group">                                                    <a class="btn btn-info col-sm-1 control-label"                                                       href="javascript:void(-1)" onclick="addCompanyWelfare()"><i                                                            class="fa fa-plus"></i>&nbsp;&nbsp;&nbsp;关联企业福利</a>                                                </div>                                                <br/>                                                <br/>                                                <div class="line line-dashed b-b line-lg pull-in"></div>                                            </div>                                            <div class="table-responsive">                                                <table class="table table-striped b-t b-light">                                                    <thead>                                                    <tr style="height: 40px;">                                                        <th class="text-center" style="vertical-align: middle">福利名称</th>                                                        <th class="text-center" style="vertical-align: middle">企业名称</th>                                                        <th class="text-center" style="vertical-align: middle">公告</th>                                                        <th class="text-center" style="vertical-align: middle">房租减免%                                                        </th>                                                        <th class="text-center" style="vertical-align: middle">首次支付月数                                                        </th>                                                        <th class="text-center" style="vertical-align: middle">首次押金月数                                                        </th>                                                        <th class="text-center" style="vertical-align: middle">创建时间</th>                                                        <th class="text-center" style="vertical-align: middle">操作</th>                                                    </tr>                                                    </thead>                                                    <tbody id="company_welfare_table_body">                                                    </tbody>                                                </table>                                            </div>                                            <footer class="panel-footer">                                                <div class="row">                                                    <div class="col-sm-4 hidden-xs">                                                    </div>                                                    <div class="col-sm-4 text-center">                                                    </div>                                                    <div class="col-sm-4 text-right text-center-xs">                                                        <ul id="page_company_welfare"                                                            class="pagination pagination-sm m-t-none m-b-none">                                                        </ul>                                                    </div>                                                </div>                                            </footer>                                        </div>                                        <div class="panel-body" id="step6">                                            <div class="table-responsive">                                                <table class="table table-striped b-t b-light">                                                    <thead>                                                    <tr style="height: 40px;">                                                        <th class="text-center" style="vertical-align: middle">用户ID</th>                                                        <th class="text-center" style="vertical-align: middle">用户评论</th>                                                        <th class="text-center" style="vertical-align: middle">评论时间</th>                                                        <th class="text-center" style="vertical-align: middle">操作</th>                                                    </tr>                                                    </thead>                                                    <tbody id="product_comment_table_body">                                                    </tbody>                                                </table>                                            </div>                                            <div class="col-sm-4 text-right text-center-xs">                                                <ul id="comment_page_index"                                                    class="pagination pagination-sm m-t-none m-b-none">                                                </ul>                                            </div>                                        </div>                                    </div>                                </div>                            </div>                            </div>                        </section>                        <div class="m-b-md">                            <div class="text-center padder clearfix">                                <p>                                    <small>上海寓伽信息科技有限公司&nbsp;&copy;2017</small>                                </p>                            </div>                        </div>                        <div class="area_content" id="areaNameAreaContent">                            <div class="area_menu">                                <ul>                                    <li class="isClick">省份</li>                                    <li>城市</li>                                    <li>县区</li>                                </ul>                            </div>                            <div class="area_data_content">                                <div class="area_data data_province isBlock">                                    <div class="data_Part part_one"><a class="part_type">A-G</a>                                        <ul>                                            <li><a>北京<input value="11" style="display:none"></a></li>                                            <li><a>安徽省<input value="34" style="display:none"></a></li>                                            <li><a>福建省<input value="35" style="display:none"></a></li>                                            <li><a>广东省<input value="44" style="display:none"></a></li>                                            <li><a>广西<input value="45" style="display:none"></a></li>                                            <li><a>贵州省<input value="52" style="display:none"></a></li>                                            <li><a>甘肃省<input value="62" style="display:none"></a></li>                                            <li><a>澳门<input value="82" style="display:none"></a></li>                                        </ul>                                    </div>                                    <div class="data_Part part_two"><a class="part_type">H-N</a>                                        <ul>                                            <li><a>河北省<input value="13" style="display:none"></a></li>                                            <li><a>内蒙古<input value="15" style="display:none"></a></li>                                            <li><a>辽宁省<input value="21" style="display:none"></a></li>                                            <li><a>吉林省<input value="22" style="display:none"></a></li>                                            <li><a>黑龙江省<input value="23" style="display:none"></a></li>                                            <li><a>江苏省<input value="32" style="display:none"></a></li>                                            <li><a>江西省<input value="36" style="display:none"></a></li>                                            <li><a>河南省<input value="41" style="display:none"></a></li>                                            <li><a>湖北省<input value="42" style="display:none"></a></li>                                            <li><a>湖南省<input value="43" style="display:none"></a></li>                                            <li><a>海南省<input value="46" style="display:none"></a></li>                                            <li><a>宁夏<input value="64" style="display:none"></a></li>                                        </ul>                                    </div>                                    <div class="data_Part part_three"><a class="part_type">O-U</a>                                        <ul>                                            <li><a>天津市<input value="12" style="display:none"></a></li>                                            <li><a>山西省<input value="14" style="display:none"></a></li>                                            <li><a>上海市<input value="31" style="display:none"></a></li>                                            <li><a>山东省<input value="37" style="display:none"></a></li>                                            <li><a>四川省<input value="51" style="display:none"></a></li>                                            <li><a>陕西省<input value="61" style="display:none"></a></li>                                            <li><a>青海<input value="63" style="display:none"></a></li>                                            <li><a>台湾<input value="71" style="display:none"></a></li>                                        </ul>                                    </div>                                    <div class="data_Part part_four"><a class="part_type part_four">V-Z</a>                                        <ul>                                            <li><a>浙江省<input value="33" style="display:none"></a></li>                                            <li><a>重庆市<input value="50" style="display:none"></a></li>                                            <li><a>云南省<input value="53" style="display:none"></a></li>                                            <li><a>西藏<input value="54" style="display:none"></a></li>                                            <li><a>新疆<input value="65" style="display:none"></a></li>                                            <li><a>香港<input value="81" style="display:none"></a></li>                                        </ul>                                    </div>                                </div>                                <div class="area_data data_region">                                    <div class="data_Part part_one"><a class="part_type">A-G</a>                                        <ul></ul>                                    </div>                                    <div class="data_Part part_two"><a class="part_type">H-N</a>                                        <ul></ul>                                    </div>                                    <div class="data_Part part_three"><a class="part_type">O-U</a>                                        <ul></ul>                                    </div>                                    <div class="data_Part part_four"><a class="part_type part_four">V-Z</a>                                        <ul></ul>                                    </div>                                </div>                                <div class="area_data data_city">                                    <div class="data_Part part_one"><a class="part_type">A-G</a>                                        <ul></ul>                                    </div>                                    <div class="data_Part part_two"><a class="part_type">H-N</a>                                        <ul></ul>                                    </div>                                    <div class="data_Part part_three"><a class="part_type">O-U</a>                                        <ul></ul>                                    </div>                                    <div class="data_Part part_four"><a class="part_type part_four">V-Z</a>                                        <ul></ul>                                    </div>                                </div>                            </div>                        </div>                    </section>                </section>                <a href="#" class="hide nav-off-screen-block" data-toggle="class:nav-off-screen,open"                   data-target="#nav,html"></a>            </section>        </section>    </section></section><script src="/js/jquery.min.js"></script><script type="text/javascript"        src="http://resource.mjiahome.com/mj/static/oss_js/lib/plupload-2.1.2/js/plupload.full.min.js"></script><script src="/js/uploadV2.js"></script><script src="/js/zeroModal.min.js"></script><script src="/js/area/charfirstPinyin.js"></script><script src="/js/area/area.js"></script><script src="/js/foundation-datepicker.min.js"></script><script src="/js/foundation-datepicker.zh-CN.js"></script><script src="http://resource.mjiahome.com/mj/static/js/area.js"></script><script src="http://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.4/summernote.js"></script><script type="application/javascript">    var nowTemp = new Date();    var now = new Date(nowTemp.getFullYear(), nowTemp.getMonth(), nowTemp.getDate(), 0, 0, 0, 0);    var checkin = $('#startTime').fdatepicker({        format: 'yyyy-mm-dd',        onRender: function (date) {            return date.valueOf() < now.valueOf() ? 'disabled' : '';        }    }).on('changeDate', function (ev) {        if (ev.date.valueOf() > checkout.date.valueOf()) {            var newDate = new Date(ev.date)            newDate.setDate(newDate.getDate() + 1);            console.log(new Date());            checkout.update(newDate);        }        checkin.hide();        $('#endTime')[0].focus();    }).data('datepicker');    var checkout = $('#endTime').fdatepicker({        format: 'yyyy-mm-dd',        onRender: function (date) {            return date.valueOf() <= checkin.date.valueOf() ? 'disabled' : '';        }    }).on('changeDate', function (ev) {        checkout.hide();    }).data('datepicker');    String.prototype.startWith = function (str) {        var reg = new RegExp("^" + str);        return reg.test(this);    };    function getRandomId(len) {        len = len || 32;        var chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678';        var maxPos = chars.length;        var pwd = '';        for (i = 0; i < len; i++) {            pwd += chars.charAt(Math.floor(Math.random() * maxPos));        }        return (Date.parse(new Date()) / 1000) + pwd;    }    var productId = GetQueryParam('code');    var commentPageSize = 10;    var commentPageNow = 1;    var commentTotal = 0;    var commentPageNum = 1;    var housePageSize = 10;    var housePageNow = 1;    var houseTotal = 0;    var housePageNum = 1;    function calCommentPageNum() {        if (commentTotal == 0) {            commentPageNum = 1;        }        if (commentTotal % commentPageSize == 0) {            commentPageNum = commentTotal / commentPageSize;        } else {            commentPageNum = parseInt(commentTotal / commentPageSize) + 1;        }        $('#comment_page_index').empty();        var pre = '<div class="btn-group m-b-sm">' +            '<button type="button" onclick="commentPagePrevious()" class="btn btn-default"><i class="fa fa-arrow-left"></i></button>';        var center = '';        for (var index = 1; index <= commentPageNum; index++) {            if (index == commentPageNow) {                center += '<button type="button" onclick="commentPageClear(' + index + ')" class="btn btn-success">' + index + '</button>';            } else {                center += '<button type="button" onclick="commentPageClear(' + index + ')" class="btn btn-default">' + index + '</button>';            }        }        var follow = '<button type="button" onclick="commentPageFollowing()" class="btn btn-default"><i class="fa fa-arrow-right"></i></button>' +            '</div>';        $('#comment_page_index').append(pre + center + follow);    }    function commentPagePrevious() {        commentPageNow--;        requestCommentList();    }    function commentPageFollowing() {        commentPageNow++;        requestCommentList();    }    function commentPageClear(page) {        commentPageNow = page;        requestCommentList();    }    function requestCommentList() {        if (commentPageNow < 1) {            commentPageNow = 1;        }        if (commentPageNow > commentPageNum) {            commentPageNow = commentPageNum;        }        var data = {            'pageNow': commentPageNow,            'pageSize': commentPageSize,            'productId': productId        };        $.ajax({            type: "POST",            async: true,            url: "/api/comment/list",            contentType: "application/json",            data: JSON.stringify(data),            dataType: "json",            success: function (ret) {                console.log(JSON.stringify(data));                console.log(ret);                $("#product_comment_table_body").empty();                commentTotal = ret['totalCount'];                $.each(ret['result'], function (item, val) {                    buildTr(val);                });                calCommentPageNum();            },            error: function (message) {            }        });    }    function buildTr(item) {        var formatContent = item['formatContent'];        var replier = item['replier'];        var isCheck = item['isCheck'];        var createTime = item['createTime'];        var commentId = item['commentId'];        var operation = '<a class="btn btn-xs btn-success btn-rounded" id="check" onclick="check(\'' + commentId + '\')">&nbsp;&nbsp;审核&nbsp;&nbsp;</a>';        if (isCheck) {            operation = '<a class="btn btn-xs btn-default btn-rounded disabled" >通过审核</a>';        }        $("#product_comment_table_body").append(            '<tr style="height: 40px;">' +            '<th class="text-center" style="vertical-align: middle">' + replier + '</th>' +            '<th class="text-center" style="vertical-align: middle">' + formatContent + '</th>' +            '<th class="text-center" style="vertical-align: middle">' + createTime + '</th>' +            '<th class="text-center" style="vertical-align: middle">' + operation + '</th>' +            '</tr>');    }    function calHousePageNum() {        if (houseTotal == 0) {            housePageNum = 1;        }        if (houseTotal % housePageSize == 0) {            housePageNum = houseTotal / housePageSize;        } else {            housePageNum = parseInt(houseTotal / housePageSize) + 1;        }        $('#page_house').empty();        var pre = '<div class="btn-group m-b-sm">' +            '<button type="button" onclick="housePagePrevious()" class="btn btn-default"><i class="fa fa-arrow-left"></i></button>';        var center = '';        for (var index = 1; index <= housePageNum; index++) {            if (index == housePageNow) {                center += '<button type="button" onclick="housePageClear(' + index + ')" class="btn btn-success">' + index + '</button>';            } else {                center += '<button type="button" onclick="housePageClear(' + index + ')" class="btn btn-default">' + index + '</button>';            }        }        var follow = '<button type="button" onclick="housePageFollowing()" class="btn btn-default"><i class="fa fa-arrow-right"></i></button>' +            '</div>';        $('#page_house').append(pre + center + follow);    }    var houseBasic = [];    function getHouseBasic() {        $.ajax({            type: "GET",            async: true,            url: "/api/support/list",            contentType: "application/json",            dataType: "json",            success: function (ret) {                var basicArr = ret['result'];                houseBasic = [];                for (var index = 0; index < basicArr.length; index++) {                    var basicItem = basicArr[index];                    var data = {};                    data.id = basicItem['basicId'];                    data.name = basicItem['basicName'];                    data.img = basicItem['pic'];                    houseBasic.push(data);                    $("#house_basic").empty();                    var txt = '';                    $.each(houseBasic, function (key, val) {//所有的                        txt += '<label class="checkbox-inline i-checks">' +                            '<input type="checkbox" name="house_basic_checked_name" value="' + val.id + '" id="house_basic_checked' + val.id + '">' +                            '<i></i>' + val.name + '</label>';                    });                    $("#house_basic").html(txt);                }            },            error: function (message) {            }        });    }    function housePagePrevious() {        housePageNow--;        requestHouseList();    }    function commentPageFollowing() {        housePageNow++;        requestHouseList();    }    function commentPageClear(page) {        housePageNow = page;        requestHouseList();    }    function requestHouseList() {        if (housePageNow < 1) {            housePageNow = 1;        }        if (housePageNow > housePageNum) {            housePageNow = housePageNum;        }        var data = {            'pageNow': housePageNow,            'pageSize': housePageSize        };        data['productId'] = productId;        $.ajax({            type: "POST",            async: true,            url: "/api/house/list",            contentType: "application/json",            data: JSON.stringify(data),            dataType: "json",            success: function (ret) {                $("#house_table_body").empty();                houseTotal = ret['totalCount'];                $.each(ret['result'], function (item, val) {                    buildHouseTr(val);                });                calHousePageNum();            },            error: function (message) {            }        });    }    function previewHousePiece(houseId) {        zeroModal.show({            title: '租赁周期',            iframe: true,            url: '/html/piece2?code=' + houseId,            height: '60%',            width: '45%',            resize: true        });    }    function buildHouseTr(item) {        var houseId = item['houseId'];        var subject = item['subject'];        var listpic = item['listpic'];        var sort = item['sort'];        var roomTypeDesc = eval('(' + item['roomTypeDesc'] + ')');        var roomTypeStr = roomTypeDesc.room + '室' + roomTypeDesc.hall + '厅' + roomTypeDesc.toilet + '卫';        var area = item['roomArea'];        var rent = item['roomRent'] / 100;        var payType = eval('(' + item['payType'] + ')');        var payTypeDes = '押' + payType.mortagageNum + '付' + payType.payMentNum;        var isCheck = item['isCheck'];        var statusDesc = item['status'] == 1 ? '已上线' : '已下线';        var createTime = item['createTime'];        var commentId = item['commentId'];        var operation = '<a class="btn btn-xs btn-success btn-rounded" id="depositBack"  href="javascript:void(0)" onclick="editHouseInfo(' + houseId + ')">编辑</a>';        $("#house_table_body").append(            '<tr style="height: 40px;">' +            '<th class="text-center" style="vertical-align: middle">' + sort + '</th>' +            '<th class="text-center" style="vertical-align: middle">' + subject + '</th>' +            '<th class="text-center" style="vertical-align: middle"><a class="btn btn-xs btn-success btn-rounded" href="javascript:void(-1)" onclick="showImgPreview(' + houseId + ')" >查看</a></th>' +            '<th class="text-center" style="vertical-align: middle">' + roomTypeStr + '</th>' +            '<th class="text-center" style="vertical-align: middle">' + area + '㎡</th>' +            '<th class="text-center" style="vertical-align: middle">' + rent + '元</th>' +            '<th class="text-center" style="vertical-align: middle">' + payTypeDes + '</th>' +            '<th class="text-center" style="vertical-align: middle"><a  class="btn btn-xs btn-success btn-rounded" href="javascript:void(-1)" onclick = "previewHousePiece(' + houseId + ')">查看</a></th>' +            '<th class="text-center" style="vertical-align: middle">' + statusDesc + '</th>' +            '<th class="text-center" style="vertical-align: middle">' + operation + '</th>' +            '</tr>');    }    var editHouseId = '';    function editHouseInfo(houseId) {        editHouseId = houseId;        $.ajax({            type: "POST",            async: true,            url: "/api/house/get?houseId=" + houseId,            contentType: "application/json",            dataType: "json",            success: function (ret) {                fillSingleHouse(ret['result']);            },            error: function (message) {            }        });        //显示房间详情    }    function fillSingleHouse(house) {        $('#houseId').val(house['houseId']);        $('#subject').val(house['subject']);        $('#summary').html(house['summary']);        $('#detail').html(house['detail']);        $('#sort').val(house['sort']);//        console.log(houseBasic);        var houseBasicList = house['basicList'];//我的        $("#house_basic").empty();        var text = '';        $.each(houseBasic, function (key, val) {//所有的            var contain = false;            $.each(houseBasicList, function (subKey, subVal) {                console.log(val.id, subVal.basicId);                if (val.id == subVal.basicId) {                    contain = true;                }            });            if (contain) {                console.log(val.id, contain);                text += '<label class="checkbox-inline i-checks">' +                    '<input type="checkbox" name="house_basic_checked_name" value="' + val.id + '" id="house_basic_checked' + val.id + '" checked="">' +                    '<i></i>' + val.name + '</label>';            } else {                text += '<label class="checkbox-inline i-checks">' +                    '<input type="checkbox" name="house_basic_checked_name" value="' + val.id + '" id="house_basic_checked' + val.id + '">' +                    '<i></i>' + val.name + '</label>';            }        });        $("#house_basic").html(text);        var arr = house['detailPicList'];        var listPic = house['listpic'];        $('#houseDetailPicDiv').empty();        var detailPic = $('#houseDetailPicDiv');        for (var index = 0; index < arr.length; index++) {            var imgId = getRandomId(10);            if ((null == listPic || undefined == listPic || '' == listPic) && index == 0) {                detailPic.append('<div class="form-group" name="detail_pic_group" id="' + imgId + '"><label class="col-sm-2 control-label"></label><div class="m-r col-sm-2">' +                    '<img src="' + arr[index] + '" name="ImgDetailPic" class="r r-2x" width="100%" height="100px"  id="img' + imgId + '"  ></div><div class="m-r col-sm-3">' +                    '<br></button><button class="btn btn-danger" onclick="removePic(\'' + imgId + '\')"><i class="fa fa-trash-o"></i>&nbsp;&nbsp;&nbsp;<span>删除图片</span></button>' +                    '<div class="radio i-checks"><label><input type="radio" name="houseDetailpic" value="' + imgId + '"><i></i>设置为列表展示图</label></div></div></div>');            } else {                if (arr[index] == listPic) {                    detailPic.append('<div class="form-group" name="detail_pic_group" id="' + imgId + '"><label class="col-sm-2 control-label"></label><div class="m-r col-sm-2">' +                        '<img src="' + arr[index] + '" name="ImgDetailPic" class="r r-2x" width="100%" height="100px" id="img' + imgId + '"   ></div><div class="m-r col-sm-3">' +                        '<br><button class="btn btn-danger" onclick="removePic(\'' + imgId + '\')"><i class="fa fa-trash-o"></i>&nbsp;&nbsp;&nbsp;<span>删除图片</span></button>' +                        '<div class="radio i-checks"><label><input type="radio" name="houseDetailpic" value="' + imgId + '" checked><i></i>设置为列表展示图</label></div></div></div>');                } else {                    detailPic.append('<div class="form-group" name="detail_pic_group" id="' + imgId + '"><label class="col-sm-2 control-label"></label><div class="m-r col-sm-2">' +                        '<img src="' + arr[index] + '" name="ImgDetailPic" class="r r-2x" width="100%" height="100px" id="img' + imgId + '"  ></div><div class="m-r col-sm-3">' +                        '<br><button class="btn btn-danger" onclick="removePic(\'' + imgId + '\')"><i class="fa fa-trash-o"></i>&nbsp;&nbsp;&nbsp;<span>删除图片</span></button>' +                        '<div class="radio i-checks"><label><input type="radio" name="houseDetailpic" value="' + imgId + '"><i></i>设置为列表展示图</label></div></div></div>');                }            }        }        var roomTypeDesc = JSON.parse(house['roomTypeDesc']);        $('#house_room').val(roomTypeDesc['room']);        $('#house_hall').val(roomTypeDesc['hall']);        $('#house_toilet').val(roomTypeDesc['toilet']);        $('#roomArea').val(house['roomArea']);        $('#roomRent').val(house['roomRent'] / 100);        var payType = JSON.parse(house['payType']);        $("#house_pay_ya").val(payType['mortagageNum']);        $("#house_pay_fu").val(payType['payMentNum']);        if (1 == house['status']) {            $("#house_status_id_1").attr("class", "btn btn-s-md active btn-default");            $("#house_status_id_0").attr("class", "btn btn-s-md btn-default");        } else {            $("#house_status_id_1").attr("class", "btn btn-s-md btn-default");            $("#house_status_id_0").attr("class", "btn btn-s-md active btn-default");        }        margeHouse();    }    function getSingleHouse() {        var house = {};        house.subject = $('#subject').val();        house.summary = $('#summary').val();        house.detail = $('#detail').val();        house.sort = $('#sort').val();        var basicIdsTemp = '';        $("input[name='house_basic_checked_name']").filter(":checked").each(function () {            basicIdsTemp += $(this).val() + ',';        });        house.basicIds = basicIdsTemp.substring(0, basicIdsTemp.length - 1);        var detailPic = '[';        var images = '';        $("input[name='houseDetailpic']").each(function () {            if ('checked' == $(this).attr('checked')) {                house.listpic = $('#img' + $(this).val()).attr('src');            }            images += $('#img' + $(this).val()).attr('src') + ',';        });        if (images.length > 0) {            house.detailpic = images.substring(0, detailPic.length - 1) + ']';        } else {            house.detailpic = '';        }        var roomTypeObj = {};        roomTypeObj.room = $('#house_room').val();        roomTypeObj.hall = $('#house_hall').val();        roomTypeObj.toilet = $('#house_toilet').val();        house.roomTypeDesc = JSON.stringify(roomTypeObj);        var housePayType = {};        housePayType.mortagageNum = $("#house_pay_ya").val();        housePayType.payMentNum = $("#house_pay_fu").val();        house.payType = JSON.stringify(housePayType);        house.roomArea = $('#roomArea').val();        house.roomRent = $('#roomRent').val() * 100;        if ($('#house_status_id_0').attr('class') == 'btn btn-s-md active btn-default') {            house.status = 0;        } else {            house.status = 1;        }        house.productId = GetQueryParam('code');        var urlPath = "";        if (editHouseId == '') {            //新增            urlPath = "/api/house/save";        } else {            house.houseId = $('#houseId').val();            //编辑            urlPath = "/api/house/update";        }        $.ajax({            type: "POST",            async: true,            url: urlPath,            contentType: "application/json",            data: JSON.stringify(house),            dataType: "json",            success: function (ret) {                if (0 == ret['code']) {                    editHouseInfo(ret['result']);                    alert("保存成功！");                } else {                    alert(ret['msg']);                }            },            error: function (message) {            }        });    }    function saveHouse() {        getSingleHouse();    }    function cleanSingleHouse() {        editHouseId = '';        $('#subject').val("");        $('#summary').html("");        $('#detail').html("");        $('#houseDetailPicDiv').empty();        $('#house_room').val(1);        $('#house_hall').val(1);        $('#house_toilet').val(1);        $('#roomArea').val(0);        $('#roomRent').val(0);        $("#house_pay_ya").val(1);        $("#house_pay_fu").val(1);        //默认下线        $("#house_status_id_0").attr("class", "btn btn-s-md active btn-default");        $("#house_status_id_1").attr("class", "btn btn-s-md btn-default");        //清除选中的房间配套设施        getHouseBasic();    }    function showImgPreview(houseId) {        $.ajax({            type: "POST",            async: true,            url: "/api/house/get?houseId=" + houseId,            dataType: "json",            success: function (ret) {                if (0 == ret['code']) {                    if (null != ret['result'] && ret['result']['detailPicList'].length > 0) {                        zeroModal.show({                            title: ret['result']['subject'] + "图片",                            content: buildDetailImgPreview(ret['result']['detailPicList']),                            width: '40%',                            height: '300px',                            esc: true,                            resize: true,                            escape: true,                        });                    }                } else {                    alert(ret['msg']);                }            },            error: function (message) {            }        });    }    /**     * 生成图片预览     * @param data     */    function buildDetailImgPreview(data) {        console.log(data);        var content = '<div ><section class="panel panel-default"><div class="carousel slide auto panel-body" id="c-slide"><ol class="carousel-indicators out">';        var contentLi = '';        var contentCenter = '</ol> <div class="carousel-inner">';        var contentImg = '';        var contentIndex = '</div><a class="left carousel-control" href="#c-slide" data-slide="prev"><i class="fa fa-arrow-left"></i></a><a class="right carousel-control" href="#c-slide" data-slide="next"><i class="fa  fa-arrow-right"></i></a></div></section></div>';        if (undefined == data || null == data || data.length <= 0) {            return '';        } else {            for (var index = 0; index < data.length; index++) {                console.log(index, data[index]);                if (index == 0) {                    contentImg += '<div class="item active"><img src="' + data[index] + '" style="width: 100%;height: 220px" /></div>';                    contentLi += '<li data-target="#c-slide" data-slide-to="' + index + '" class="active"></li>';                } else {                    contentImg += '<div class="item"><img src="' + data[index] + '"style="width: 100%;height: 220px"/></div>';                    contentLi += '<li data-target="#c-slide" data-slide-to="' + index + '" class=""></li>';                }            }            return content + contentLi + contentCenter + contentImg + contentIndex;        }    }    function addHouse() {        cleanSingleHouse();        $('#div_house_info').css('display', 'block');        $('#div_house_edit').css('display', 'none');    }    function margeHouse() {        $('#div_house_info').css('display', 'block');        $('#div_house_edit').css('display', 'none');    }    function returnHouseList() {        requestHouseList()        $('#div_house_info').css('display', 'none');        $('#div_house_edit').css('display', 'block');    }    $(function () {        $("#transport").summernote();        bindUpload({            "id": 'newPic',            finish: function (file) {                var newUploadId = getRandomId(10);                var picSizeNow = $("div[name='detail_pic_group']").size();                var txt = '<div class="form-group" name="detail_pic_group" id="' + newUploadId + '"><label class="col-sm-2 control-label"></label><div class="m-r col-sm-2">' +                    '<img src="' + file + '" name="ImgDetailPic" class="r r-2x" width="100%" height="100px" id="img' + newUploadId + '" ></div><div class="m-r col-sm-3">' +                    '<br><button class="btn btn-danger" onclick="removePic(\'' + newUploadId + '\')"><i class="fa fa-trash-o"></i>&nbsp;&nbsp;&nbsp;<span>删除图片</span></button>' +                    '<div class="radio i-checks"><label><input type="radio" name="detailpic" ' + (0 == picSizeNow ? "checked" : "") + ' value="' + newUploadId + '" ><i></i>设置为列表展示图</label></div></div></div>';                $('#productDetailPicDiv').append(txt);            }        });        bindUpload({            "id": 'btn_net_rule',            finish: function (file) {                $("#netRulesUrl").val(file);            }        });        bindUpload({            "id": 'newHousePic',            finish: function (file) {                var newUploadId = getRandomId(10);                var picSizeNow = $("div[name='house_detail_pic_group']").size();                var txt = '<div class="form-group" name="house_detail_pic_group" id="' + newUploadId + '"><label class="col-sm-2 control-label"></label><div class="m-r col-sm-2">' +                    '<img src="' + file + '" name="ImgDetailPic" class="r r-2x" width="100%" height="100px" id="img' + newUploadId + '" ></div><div class="m-r col-sm-3">' +                    '<br><button class="btn btn-danger" onclick="removePic(\'' + newUploadId + '\')"><i class="fa fa-trash-o"></i>&nbsp;&nbsp;&nbsp;<span>删除图片</span></button>' +                    '<div class="radio i-checks"><label><input type="radio" name="houseDetailpic" ' + (0 == picSizeNow ? "checked" : "") + ' value="' + newUploadId + '" ><i></i>设置为列表展示图</label></div></div></div>';                $('#houseDetailPicDiv').append(txt);            }        });        refreshData();        //加载房屋基础设施        getHouseBasic();        step1();        $('#areaName').areaSelector(areaData, 'areaId');        $("#choose_file_label").bind("click", function () {            $("filestyle-0").trigger("click");        });        $("#tab_head_1").click(function () {            step1();        });        $("#tab_head_2").click(function () {            step2();        });        $("#tab_head_3").click(function () {            step3();        });        $("#tab_head_4").click(function () {            step4();        });        $("#tab_head_5").click(function () {            step5();        });        $("#tab_head_6").click(function () {            step6();        });        $("#companyActive").click(function () {            if ('激活' == $("#companyActive").val()) {                $("#companyActive").val('不激活');            } else {                $("#companyActive").val('激活');            }        });        $("#btn_netRulesUrl").click(function () {            zeroModal.show({                title: '房屋守则',                iframe: true,                url: $("#netRulesUrl").val(),                width: '40%',                height: '60%',                esc: true,                cancel: true            });        });        $("#btn_submit").click(function () {            var listPicId = $("input[name='detailpic']").filter(":checked").val();            console.log(listPicId);            var imageDetailList = eval('[]');            $("img[name='ImgDetailPic']").each(function (index, element) {                imageDetailList.push($(this).attr('src'));            });            var areaId = $("#areaId").html();            var data = {                "productId": $("#productId").val(),                "productName": $("#productName").val(),                "productDetail": $("#productDetail").val(),                "address": $("#address").val(),                "areaId": areaId,                "supplierId": $("#supplierId").val(),                "areaName": $('#areaName').val(),                "position": $("#position").val(),                "areaProvince": areaId.substring(0, 2),                "areaRegion": areaId.substring(2, 4),                "areaCity": areaId.substring(4, 6),                "netRulesUrl": $("#netRulesUrl").val(),                "productSort": $("#productSort").val(),                "productActive": $("#productActive").is(':checked'),                "listpic": $("#img" + listPicId).attr("src"),                "detailpic": '[' + imageDetailList.toString() + ']',                "shopping": $("#shopping").val(),                "transport": $("#transport").summernote('code'),                "delicacy": $("#delicacy").val(),                "entertainment": $("#entertainment").val()            };            if ('' == $("#supplierId").val()) {                alert("请选择供应商");                return;            }            var op = GetQueryParam('op');            if ('op' == null) {                alert('操作未知！');                return;            }            if ('update' == op) {                $.ajax({                    type: "POST",                    async: true,                    url: "/api/product/update",                    contentType: "application/json",                    data: JSON.stringify(data),                    dataType: "json",                    success: function (ret) {                        if (0 == ret['code']) {                            alert("修改成功！");                        } else {                            alert(ret['msg']);                        }                    },                    error: function (message) {                        console.info(message);                    }                });            } else if ('add' == op) {                $.ajax({                    type: "POST",                    async: true,                    url: "/api/product/add",                    contentType: "application/json",                    data: JSON.stringify(data),                    dataType: "json",                    success: function (ret) {                        if (0 == ret['code']) {                            if ('update' != GetQueryParam('op')) {                                window.location.href = '/html/platform/productInfo.html?op=update&code=' + ret['result'];                            }                            alert("创建成功！");                        } else {                            alert(ret['msg']);                        }                    },                    error: function (message) {                        console.info(message);                    }                });            } else {                alert('操作未知！');                return;            }        });    });    var DialogProductCompanyWelfareNoticeList = [];    var ListProductCompanyWelfareNoticeList = [];    function check(commentId) {        var data = {            'pageNow': commentPageNow,            'pageSize': commentPageSize        };        data['commentId'] = commentId;        data['isCheck'] = true;        $.ajax({            type: "POST",            async: true,            url: "/api/comment/update",            contentType: "application/json",            data: JSON.stringify(data),            dataType: "json",            success: function (ret) {                requestCommentList();            },            error: function (message) {                alert("审核出错:" + message);            }        });    }    function addCompanyWelfare() {        var param = {            "productId": parseInt(productId),            "add": true        };        $.ajax({            type: "POST",            async: true,            url: "/api/product/list_company_welfare",            contentType: "application/json",            data: JSON.stringify(param),            dataType: "json",            success: function (ret) {                if (0 == ret['code']) {                    addCompanyWelfareDialog(ret['result']);                } else {                    alert(ret['msg']);                }            },            error: function (message) {                console.info(message);            }        });    }    function dialogCompanyWelfareNotice(id) {        zeroModal.show({            title: '公告',            content: DialogProductCompanyWelfareNoticeList[id],            escape: false        });    }    function listCompanyWelfareNotice(id) {        zeroModal.show({            title: '公告',            content: ListProductCompanyWelfareNoticeList[id],            escape: false        });    }    function addCompanyWelfareDialog(data) {        var txt = '<table class="table table-striped b-t b-light" id="table_dialog_company_welfare">' +            '<thead>' +            '<tr>' +            '<th style="width:20px;"><label class="checkbox m-n i-checks"><input type="checkbox"><i></i></label></th><th class="text-center">公司名称</th><th class="text-center">福利名称</th><th class="text-center">公告</th><th class="text-center">房租减免%</th><th class="text-center">首次支付月数</th><th class="text-center">首次押金月数</th>' +            '</tr>' +            '</thead><tbody>';        DialogProductCompanyWelfareNoticeList = [];        for (var index = 0; index < data.length; index++) {            var dataItem = data[index];            var content = JSON.parse(dataItem['content']);            DialogProductCompanyWelfareNoticeList.push(content['notice']);            txt += '<tr><td><label class="checkbox m-n i-checks"><input type="checkbox" name="post[]" value="' + dataItem['welfareId'] + '"><i></i></label></td>' +                '<td class="text-center">' + dataItem['companyName'] + '</td>' +                '<td class="text-center">' + content['name'] + '</td>' +                '<td class="text-center"><a class="btn btn-xs btn-success btn-rounded"  onclick="dialogCompanyWelfareNotice(' + index + ')">查看</a></td>' +                '<td class="text-center">' + content['remitPercent'] + '</td>' +                '<td class="text-center">' + content['payMentNum'] + '</td>' +                '<td class="text-center">' + content['mortagageNum'] + '</td>' +                '</tr>';        }        txt += '</tbody></table>';        zeroModal.show({            title: '关联企业福利',            content: txt,            width: '60%',            height: '60%',            resize: true,            ok: true,            cancel: true,            okFn: function (opt) {                var listPicPosition = $("input[name='post[]']").filter(":checked");                var checkedWelfareId = '';                $.each(listPicPosition, function (key, node) {                    checkedWelfareId += $(this).val();                    checkedWelfareId += ',';                });                if ('' != checkedWelfareId) {                    $.ajax({                        type: "POST",                        async: true,                        url: "/api/product/add_company_welfare?productId=" + productId + "&companyWelfareIds=" + checkedWelfareId,                        contentType: "application/json",                        dataType: "json",                        success: function (ret) {                            step4();                            if (0 == ret['code']) {                                alert("成功添加" + ret['result'] + '条');                            } else {                                alert(ret['msg']);                            }                        },                        error: function (message) {                            console.info(message);                        }                    });                }                return true;            }        });    }    function refreshData() {        var code = GetQueryParam('code');        if (null == code) {            return;        }        var data = {};        data.productId = code;        $.ajax({            type: "POST",            async: true,            url: "/api/product/list",            contentType: "application/json",            data: JSON.stringify(data),            dataType: "json",            success: function (ret) {                if (0 == ret['code'] && ret['result'].length > 0) {                    fillData(ret['result'][0]);                }            },            error: function (message) {            }        });    }    function selectSupplier(supplierId, supplierName) {        $("#supplierId").val(supplierId);        $("#supplierName").html(supplierName + '&nbsp;&nbsp;<span class="caret"></span>');    }    function getSupplierList(supplierId) {        var data = {};        $.ajax({            type: "POST",            async: true,            url: "/api/supplier/lists",            contentType: "application/json",            data: JSON.stringify(data),            dataType: "json",            success: function (ret) {                if (0 == ret['code'] && ret['result'].length > 0) {                    var result = ret['result'];                    $("#ul_supplier").empty();                    for (var index = 0; index < result.length; index++) {                        if (supplierId == result[index]['supplierId']) {                            $("#supplierName").html(result[index]['supplierName'] + '&nbsp;&nbsp;<span class="caret"></span>');                        }                        $("#ul_supplier").append('<li><a href="javascript:void(0)" onclick="selectSupplier(' + result[index]['supplierId'] + ',\'' + result[index]['supplierName'] + '\')">' + result[index]['supplierName'] + '</a></li>');                    }                }            },            error: function (message) {            }        });    }    function fillData(data) {        $('#productId').val(data['productId']);        $('#supplierId').val(data['supplierId']);        getSupplierList(data['supplierId']);        $('#productName').val(data['productName']);        $('#productDetail').html(data['productDetail']);        $('#productDetailPicDiv').empty();        var areaCode = data['areaId'] + '';        $('#areaName').val(data['areaName']);        $('#areaId').html(data['areaId']);        $('#address').val(data['address']);        $('#position').val(data['position']);        $('#netRulesUrl').val(data['netRulesUrl']);        $('#productSort').val(data['productSort']);        $('#shopping').val(data['shopping']);        $('#transport').summernote('code', data['transport'])        $('#delicacy').val(data['delicacy']);        $('#entertainment').val(data['entertainment']);        var productActive = data['productActive'];        if (productActive) {            $('#product_active_label').html('<input type="checkbox" id="productActive" checked/> <span></span>');        } else {            $('#product_active_label').html('<input type="checkbox" id="productActive" /> <span></span>');        }        var listPic = data['listpic'];        var arr = data['detailpic'];        var detailPic = $('#productDetailPicDiv');        for (var index = 0; index < arr.length; index++) {            var imgId = getRandomId(10);            if ((null == listPic || undefined == listPic || '' == listPic) && index == 0) {                detailPic.append('<div class="form-group" name="detail_pic_group" id="' + imgId + '"><label class="col-sm-2 control-label"></label><div class="m-r col-sm-2">' +                    '<img src="' + arr[index] + '" name="ImgDetailPic" class="r r-2x" width="100%" height="100px"  id="img' + imgId + '"  ></div><div class="m-r col-sm-3">' +                    '<br></button><button class="btn btn-danger" onclick="removePic(\'' + imgId + '\')"><i class="fa fa-trash-o"></i>&nbsp;&nbsp;&nbsp;<span>删除图片</span></button>' +                    '<div class="radio i-checks"><label><input type="radio" name="detailpic" value="' + imgId + '"><i></i>设置为列表展示图</label></div></div></div>');            } else {                if (arr[index] == listPic) {                    detailPic.append('<div class="form-group" name="detail_pic_group" id="' + imgId + '"><label class="col-sm-2 control-label"></label><div class="m-r col-sm-2">' +                        '<img src="' + arr[index] + '" name="ImgDetailPic" class="r r-2x" width="100%" height="100px" id="img' + imgId + '"   ></div><div class="m-r col-sm-3">' +                        '<br><button class="btn btn-danger" onclick="removePic(\'' + imgId + '\')"><i class="fa fa-trash-o"></i>&nbsp;&nbsp;&nbsp;<span>删除图片</span></button>' +                        '<div class="radio i-checks"><label><input type="radio" name="detailpic" value="' + imgId + '" checked><i></i>设置为列表展示图</label></div></div></div>');                } else {                    detailPic.append('<div class="form-group" name="detail_pic_group" id="' + imgId + '"><label class="col-sm-2 control-label"></label><div class="m-r col-sm-2">' +                        '<img src="' + arr[index] + '" name="ImgDetailPic" class="r r-2x" width="100%" height="100px" id="img' + imgId + '"  ></div><div class="m-r col-sm-3">' +                        '<br><button class="btn btn-danger" onclick="removePic(\'' + imgId + '\')"><i class="fa fa-trash-o"></i>&nbsp;&nbsp;&nbsp;<span>删除图片</span></button>' +                        '<div class="radio i-checks"><label><input type="radio" name="detailpic" value="' + imgId + '"><i></i>设置为列表展示图</label></div></div></div>');                }            }        }        //填充个人福利        if (data['hasPersonal']) {            var personalWelfare = JSON.parse(data['personalWelfare']);            $("#remitPercent").val(personalWelfare['remitPercent']);            $("#payMentNum").val(personalWelfare['payMentNum']);            $("#mortagageNum").val(personalWelfare['mortagageNum']);            $("#welfareNotice").html(personalWelfare['notice']);            $("#welfareName").val(personalWelfare['name']);        }    }    function removePic(index) {        $("#" + index).remove();    }    function removeCompanyWelfare(welfareId) {        $.ajax({            type: "POST",            async: true,            url: "/api/product/delete_company_welfare?productId=" + GetQueryParam('code') + '&companyWelfareIds=' + welfareId,            contentType: "application/json",            dataType: "json",            success: function (ret) {                if (0 == ret['code']) {                    step4();                    alert("删除成功！");                } else {                    alert(ret['msg']);                }            },            error: function (message) {            }        });    }    function deleteCompanyWelfare() {        var data = {};        $.ajax({            type: "POST",            async: true,            url: "/api/product/remove_welfare?productId=" + GetQueryParam('code'),            contentType: "application/json",            data: JSON.stringify(data),            dataType: "json",            success: function (ret) {                if (0 == ret['code']) {                    refreshData();                    alert("删除成功！");                } else {                    alert(ret['msg']);                }            },            error: function (message) {            }        });    }    function saveCompanyWelfare(welfareId) {        var notice = {};        $('#welfaresdpZNz input').each(function (item, val) {            notice[$(this).attr("name")] = $(this).val()        });        $('#welfaresdpZNz textarea').each(function (item, val) {            notice[$(this).attr("name")] = $(this).val()        });        if (notice.remitPercent > 100 || notice.remitPercent < 0) {            alert("折扣比例的范围（0~100）");            return;        }        if (notice.payMentNum < 0) {            alert("首次支付的月数不能小于0");            return;        }        if (notice.mortagageNum < 0) {            alert("首次支付的押金月数不能小于0");            return;        }        $.ajax({            type: "POST",            async: true,            url: "/api/product/update_welfare?productId=" + GetQueryParam('code'),            contentType: "application/json",            data: JSON.stringify(notice),            dataType: "json",            success: function (ret) {                if (0 == ret['code']) {                    refreshData();                    alert("修改成功！");                } else {                    alert(ret['msg']);                }            },            error: function (message) {            }        });    }    function GetQueryParam(name) {        var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");        var r = window.location.search.substr(1).match(reg);        if (r != null) return unescape(r[2]);        return null;    }    function step1() {        getSupplierList('');        $("#step1").css("display", "block");        $("#step2").css("display", "none");        $("#step3").css("display", "none");        $("#step4").css("display", "none");        $("#step6").css("display", "none");    }    function step2() {        if (null == productId || '' == productId || undefined == productId) {            step1();            alert("请先保存产品信息！");            return;        }        $("#step1").css("display", "none");        $("#step2").css("display", "block");        $("#step3").css("display", "none");        $("#step4").css("display", "none");        $("#step6").css("display", "none");        requestHouseList();    }    function step3() {        if (null == productId || '' == productId || undefined == productId) {            step1();            alert("请先保存产品信息！");            return;        }        $("#step1").css("display", "none");        $("#step2").css("display", "none");        $("#step3").css("display", "block");        $("#step4").css("display", "none");        $("#step6").css("display", "none");    }    var welfarePageNow = 1;    var welfareTotal = 0;    var welfarePageNum = 1;    var welfarePageSize = 4;    function calCompanyWelfarePageNum() {        if (welfareTotal == 0) {            welfarePageNum = 1;        }        if (welfareTotal % welfarePageSize == 0) {            welfarePageNum = welfareTotal / welfarePageSize;        } else {            welfarePageNum = parseInt(welfareTotal / welfarePageSize) + 1;        }        $('#page_company_welfare').empty();        var pre = '<div class="btn-group m-b-sm">' +            '<button type="button" onclick="CompanyWelfarePagePrevious()" class="btn btn-default"><i class="fa fa-arrow-left"></i></button>';        var center = '';        for (var index = 1; index <= welfarePageNum; index++) {            if (index == welfarePageNow) {                center += '<button type="button" onclick="CompanyWelfarePageClear(' + index + ')" class="btn btn-success">' + index + '</button>';            } else {                center += '<button type="button" onclick="CompanyWelfarePageClear(' + index + ')" class="btn btn-default">' + index + '</button>';            }        }        var follow = '<button type="button" onclick="CompanyWelfarePageFollowing()" class="btn btn-default"><i class="fa fa-arrow-right"></i></button>' +            '</div>';        $('#page_company_welfare').append(pre + center + follow);    }    function CompanyWelfarePagePrevious() {        welfarePageNow--;        requestCompanyWelfare();    }    function CompanyWelfarePageFollowing() {        welfarePageNow++;        requestCompanyWelfare();    }    function CompanyWelfarePageClear(page) {        welfarePageNow = page;        requestCompanyWelfare();    }    function requestCompanyWelfare() {        if (welfarePageNow < 1) {            welfarePageNow = 1;        }        if (welfarePageNow > welfarePageNum) {            welfarePageNow = welfarePageNum;        }        var data = {            "productId": parseInt(productId),            'pageNow': welfarePageNow,            'pageSize': welfarePageSize,            'add': false        };        $.ajax({            type: "POST",            async: true,            url: "/api/product/list_company_welfare",            contentType: "application/json",            data: JSON.stringify(data),            dataType: "json",            success: function (ret) {                if (0 == ret['code']) {                    refreshCompanyWelfare(ret['result']);                    welfareTotal = [ret['totalCount']];                    calCompanyWelfarePageNum();                } else {                    alert(ret['msg']);                }            },            error: function (message) {            }        });    }    function step4() {        if (null == productId || '' == productId || undefined == productId) {            step1();            alert("请先保存产品信息！");            return;        }        $("#step1").css("display", "none");        $("#step2").css("display", "none");        $("#step3").css("display", "none");        $("#step4").css("display", "block");        $("#step6").css("display", "none");        requestCompanyWelfare();    }    function refreshCompanyWelfare(data) {        if (data.length > 0) {            $("#company_welfare_table_body").empty();            for (var index = 0; index < data.length; index++) {                var content = JSON.parse(data[index]['content']);                ListProductCompanyWelfareNoticeList = [];                ListProductCompanyWelfareNoticeList.push(content['notice']);                $("#company_welfare_table_body").append(                    '<tr style="height: 40px;">' +                    '<th class="text-center" style="vertical-align: middle">' + content['name'] + '</th>' +                    '<th class="text-center" style="vertical-align: middle">' + data[index]['companyName'] + '</th>' +                    '<th class="text-center" style="vertical-align: middle"><a class="btn btn-xs btn-success btn-rounded" id="check" onclick="listCompanyWelfareNotice(' + index + ')">查看</a></th>' +                    '<th class="text-center" style="vertical-align: middle">' + content['remitPercent'] +                    '</th>' +                    '<th class="text-center" style="vertical-align: middle">' + content['payMentNum'] +                    '</th>' +                    '<th class="text-center" style="vertical-align: middle">' + content['mortagageNum'] +                    '</th>' +                    '<th class="text-center" style="vertical-align: middle">' + data[index]['createTime'] + '</th>' +                    '<th class="text-center" style="vertical-align: middle"><button class="btn btn-xs btn-danger btn-rounded" onclick="removeCompanyWelfare(' + data[index]['welfareId'] + ')"><span>删除</span></button></th>' +                    '</tr>');            }        } else {            $("#company_welfare_table_body").empty();        }    }    function step6() {        var data = {};        data['']        if (null == productId || '' == productId || undefined == productId) {            step1();            alert("请先保存产品信息！");            return;        }        $("#step1").css("display", "none");        $("#step2").css("display", "none");        $("#step3").css("display", "none");        $("#step4").css("display", "none");        $("#step6").css("display", "block");        /* $.ajax({         type: "POST",         async: true,         url: "/api/product/list_basic?productId=" + GetQueryParam('code'),         contentType: "application/json",         dataType: "json",         success: function (ret) {         if (0 == ret['code']) {         refreshBasic(ret['result']);         } else {         alert(ret['msg']);         }         },         error: function (message) {         }         }); */        requestCommentList();    }</script><!-- Bootstrap --><script src="/js/bootstrap.js"></script><!-- App --><script src="/js/app.js"></script><script src="/js/slimscroll/jquery.slimscroll.min.js"></script><script src="/js/app.plugin.js"></script></body></html>